<?php
$xhtml = '<h1>CAufgabenzuordnung</h1>'."\n";


////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
$xhtml .= '<h2>Neue Instanz</h2>'."\n";
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

$theObj = new CAufgabenzuordnung();
$xhtml .= '<p>'.$theObj.'</p>'."\n";

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
$xhtml .= '<h2>Datenprüfung</h2>'."\n";
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

$theObj->setAthletID(-1);
$theObj->setAufgabeID(0);
$theObj->setZusatzinfo('MustermannMustermannMustermannMustermannMustermannM');

$xhtml .= '<p>Objekt wird jetzt ...';
//$theObj->save();
$xhtml .= '... gespeichert. ID ist '.$theObj->getAufgabenzuordnungID().', __toString(): '.$theObj.'</p>'."\n";

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
$xhtml .= '<h2>Setter</h2>'."\n";
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

$theObj->setAufgabenzuordnungID(99887766);
$theObj->setAthletID(53);
$theObj->setAufgabeID(1);
$theObj->setZusatzinfo('Demo');

$xhtml .= '<pre><code>'."\n";
$xhtml .= print_r($theObj, true);
$xhtml .= '</code></pre>'."\n";

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
$xhtml .= '<h2>Getter</h2>'."\n";
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

$xhtml .= '<p>'."\n";
$xhtml .= 'getAufgabenzuordnungID(): '.$theObj->getAufgabenzuordnungID().'<br />'."\n";
$xhtml .= 'getAthletID(): '.$theObj->getAthletID().'<br />'."\n";
$xhtml .= 'getAthletID(GET_OFID): '.$theObj->getAthletID(GET_OFID).'<br />'."\n";
$xhtml .= 'getAufgabeID(): '.$theObj->getAufgabeID().'<br />'."\n";
$xhtml .= 'getAufgabeID(GET_OFID): '.$theObj->getAufgabeID(GET_OFID).'<br />'."\n";
$xhtml .= 'getZusatzinfo(): '.$theObj->getZusatzinfo().'<br />'."\n";
$xhtml .= '</p>'."\n";

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
$xhtml .= '<h2>Datensatz speichern</h2>'."\n";
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

$xhtml .= '<p>Objekt wird jetzt ...';
$theObj->save();
$xhtml .= '... gespeichert. ID ist '.$theObj->getAufgabenzuordnungID().', __toString(): '.$theObj.'</p>'."\n";

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
$xhtml .= '<h2>Datensatz laden</h2>'."\n";
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

$theObj->load($theObj->getAufgabenzuordnungID());
$xhtml .= '<p>'."\n";
$xhtml .= 'load('.$theObj->getAufgabenzuordnungID().'): '.$theObj.'<br />'."\n";
$xhtml .= '</p>'."\n";

$xhtml .= '<pre><code>'."\n";
$xhtml .= print_r($theObj, true);
$xhtml .= '</code></pre>'."\n";

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
$xhtml .= '<h2>Datensatz ändern und speichern</h2>'."\n";
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

$theObj->setAthletID(53);
$theObj->setAufgabeID(10);
$theObj->setZusatzinfo('Demo');

$xhtml .= '<p>Objekt wird jetzt ...';
$theObj->save();
$xhtml .= '... gespeichert. ID ist '.$theObj->getAufgabenzuordnungID().', __toString(): '.$theObj.'</p>'."\n";

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
$xhtml .= '<h2>Vermischtes</h2>'."\n";
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

$tmpID = $theObj->getAufgabenzuordnungID();
$theObj->load(10);

$xhtml .= '<p>'."\n";
$AthletIDArray = CAufgabenzuordnung::getAthletIDArray(S_DBENTWICKLER);
$xhtml .= 'getAthletIDArray(S_DBENTWICKLER): '.print_r($AthletIDArray, true).'<br /><br />'."\n";
$AthletIDArray = CAufgabenzuordnung::getAthletIDArray(array(S_DBENTWICKLER, S_ABTEILUNGSLEITER));
$xhtml .= 'getAthletIDArray(array(S_DBENTWICKLER, S_ABTEILUNGSLEITER)): '.print_r($AthletIDArray, true).'<br />'."\n";
$xhtml .= '</p>'."\n";

$theObj->load($tmpID);

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
$xhtml .= '<h2>Datensatz löschen</h2>'."\n";
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

$xhtml .= '<p>Objekt wird jetzt ...';
$theObj->delete();
$xhtml .= '... gelöscht: '.$theObj.'</p>'."\n";

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// RETURN
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

$data['xhtml'] = $xhtml;
return new CTemplateData($data, true);
?>