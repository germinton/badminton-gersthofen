<?php
$xhtml = '<h1>CAthlet</h1>'."\n";

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
$xhtml .= '<h2>Neue Instanz</h2>'."\n";
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

$theObj = new CAthlet();
$xhtml .= '<p>'.$theObj.'</p>'."\n";

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
$xhtml .= '<h2>Datenprüfung</h2>'."\n";
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

$theObj->setAnrede(3);
$theObj->setNachname('');
$theObj->setVorname('MustermannMustermannMustermannM');

$xhtml .= '<p>Objekt wird jetzt ...';
//$theObj->save();
$xhtml .= '... gespeichert. ID ist '.$theObj->getAthletID().', __toString(): '.$theObj.'</p>'."\n";

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
$xhtml .= '<h2>Setter</h2>'."\n";
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

$theObj->setAthletID(99887766);
$theObj->setAnrede(S_HERR);
$theObj->setNachname('Max');
$theObj->setVorname('Mustermann');

$xhtml .= '<pre><code>'."\n";
$xhtml .= print_r($theObj, true);
$xhtml .= '</code></pre>'."\n";

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
$xhtml .= '<h2>Getter</h2>'."\n";
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

$xhtml .= '<p>'."\n";
$xhtml .= 'getAthletID(): '.$theObj->getAthletID().'<br />'."\n";
$xhtml .= 'getAnrede(): '.$theObj->getAnrede().'<br />'."\n";
$xhtml .= 'getAnrede(GET_C2SC): '.$theObj->getAnrede(GET_C2SC).'<br />'."\n";
$xhtml .= 'getAnrede(GET_SPEC): '.$theObj->getAnrede(GET_SPEC).'<br />'."\n";
$xhtml .= 'getNachname(): '.$theObj->getNachname().'<br />'."\n";
$xhtml .= 'getVorname(): '.$theObj->getVorname().'<br />'."\n";
$xhtml .= '</p>'."\n";

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
$xhtml .= '<h2>Datensatz speichern</h2>'."\n";
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

$xhtml .= '<p>Objekt wird jetzt ...';
$theObj->save();
$xhtml .= '... gespeichert. ID ist '.$theObj->getAthletID().', __toString(): '.$theObj.'</p>'."\n";

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
$xhtml .= '<h2>Datensatz laden</h2>'."\n";
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

$theObj->load($theObj->getAthletID());
$xhtml .= '<p>'."\n";
$xhtml .= 'load('.$theObj->getAthletID().'): '.$theObj.'<br />'."\n";
$xhtml .= '</p>'."\n";

$xhtml .= '<pre><code>'."\n";
$xhtml .= print_r($theObj, true);
$xhtml .= '</code></pre>'."\n";

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
$xhtml .= '<h2>Datensatz ändern und speichern</h2>'."\n";
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

$theObj->setAnrede(S_DAME);
$theObj->setVorname('Max');
$theObj->setNachname('Mustermann');

$xhtml .= '<p>Objekt wird jetzt ...';
$theObj->save();
$xhtml .= '... gespeichert. ID ist '.$theObj->getAthletID().', __toString(): '.$theObj.'</p>'."\n";

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
$xhtml .= '<h2>Vermischtes</h2>'."\n";
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

$tmpID = $theObj->getAthletID();
$theObj->load(14);

$xhtml .= '<p>'."\n";
$xhtml .= 'getNachnameVorname(): '.$theObj->getNachnameVorname().'<br />'."\n";
$xhtml .= 'hatAufgabe(S_ABTEILUNGSLEITER): '.(($theObj->hatAufgabe(S_ABTEILUNGSLEITER))?('ja'):('nein')).'<br />'."\n";
$xhtml .= '</p>'."\n";

$MeisterstringArray = $theObj->getMeisterstringArray();
$xhtml .= '<ul>'."\n";
foreach($MeisterstringArray as $Meisterstring) {$xhtml .= '<li>'.$Meisterstring.'</li>'."\n";}
$xhtml .= '</ul>'."\n";

$theObj->load(8);

$xhtml .= '<p>'."\n";
$xhtml .= 'getNachnameVorname(): '.$theObj->getNachnameVorname().'<br />'."\n";
$xhtml .= 'hatAufgabe(S_DBENTWICKLER): '.(($theObj->hatAufgabe(S_DBENTWICKLER))?('ja'):('nein')).'<br />'."\n";
$xhtml .= '</p>'."\n";

$RLErfolgstringArray = $theObj->getRLErfolgstringArray();
$xhtml .= '<ul>'."\n";
foreach($RLErfolgstringArray as $RLErfolgstring) {$xhtml .= '<li>'.$RLErfolgstring.'</li>'."\n";}
$xhtml .= '</ul>'."\n";

$theObj->load($tmpID);

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
$xhtml .= '<h2>Datensatz löschen</h2>'."\n";
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

$xhtml .= '<p>Objekt wird jetzt ...';
$theObj->delete();
$xhtml .= '... gelöscht: '.$theObj.'</p>'."\n";

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// RETURN
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

$data['xhtml'] = $xhtml;
return new CTemplateData($data, true);
?>