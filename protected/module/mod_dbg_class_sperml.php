<?php
$xhtml = '<h1>CSpErMl</h1>'."\n";

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
$xhtml .= '<h2>Neue Instanz</h2>'."\n";
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

$theObj = new CSpErMl();
$xhtml .= '<p>'.$theObj.'</p>'."\n";

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
$xhtml .= '<h2>Datenprüfung</h2>'."\n";
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

$theObj->setDatum('2009-01-2');
$theObj->setAustragungsortID(0);
$Bemerkungen = 'a'; for($i=0; $i<255; $i++) $Bemerkungen .= 'a';
$theObj->setBemerkungen($Bemerkungen);

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// BEGINN: $SpielSpErMlArray
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

$SpielSpErMlArray = array();

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
$SpErMlSpieltyp = S_SPERMLHD1TYP;
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
$SpielSpErMlArray[$SpErMlSpieltyp] = new CSpielSpErMl();
$KontrahentArray = array();
$KontrahentArray[S_HEIM][1] = new CKontrahent(); $KontrahentArray[S_HEIM][1]->setAthletID(-1);
$KontrahentArray[S_GAST][1] = new CKontrahent(); $KontrahentArray[S_GAST][1]->setAthletID(-5);
$SpielSpErMlArray[$SpErMlSpieltyp]->setKontrahentArray($KontrahentArray);
$SatzArray = array();
$SatzArray[1] = new CSatz(); $SatzArray[1]->setPunkte(77, 78);
$SatzArray[2] = new CSatz(); $SatzArray[2]->setPunkte(66, 67);
$SatzArray[3] = new CSatz(); $SatzArray[3]->setPunkte(55, 56);
$SpielSpErMlArray[$SpErMlSpieltyp]->setSatzArray($SatzArray);

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
$SpErMlSpieltyp = S_SPERMLHD2TYP;
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
$SpielSpErMlArray[$SpErMlSpieltyp] = new CSpielSpErMl();$KontrahentArray = array();
$KontrahentArray[S_HEIM][1] = new CKontrahent(); $KontrahentArray[S_HEIM][1]->setAthletID(-1);
$KontrahentArray[S_GAST][1] = new CKontrahent(); $KontrahentArray[S_GAST][1]->setAthletID(-5);
$SpielSpErMlArray[$SpErMlSpieltyp]->setKontrahentArray($KontrahentArray);
$SatzArray = array();
$SatzArray[1] = new CSatz(); $SatzArray[1]->setPunkte(77, 78);
$SatzArray[2] = new CSatz(); $SatzArray[2]->setPunkte(66, 67);
$SatzArray[3] = new CSatz(); $SatzArray[3]->setPunkte(55, 56);
$SpielSpErMlArray[$SpErMlSpieltyp]->setSatzArray($SatzArray);

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// ENDE: $SpielSpErMlArray
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

$theObj->setSpielSpErMlArray($SpielSpErMlArray);

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// BEGINN: $ErsatzspielerArray
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

$ErsatzspielerArray = array();
$ErsatzspielerArray[1] = new CErsatzspieler(); $ErsatzspielerArray[1]->setAthletID(-1);

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// ENDE: $ErsatzspielerArray
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

$theObj->setErsatzspielerArray($ErsatzspielerArray);

$xhtml .= '<p>Objekt wird jetzt ...';
//$theObj->save();
$xhtml .= '... gespeichert. ID ist '.$theObj->getSpErMlID().', __toString(): '.$theObj.'</p>'."\n";

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
$xhtml .= '<h2>Setter</h2>'."\n";
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

$theObj->setSpErMlID(99887766);
$theObj->setDatum('2009-01-23');
$theObj->setAustragungsortID(210);
$theObj->setBemerkungen('Big Fun!');

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// BEGINN: $SpielSpErMlArray
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

$SpielSpErMlArray = array();

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
$SpErMlSpieltyp = S_SPERMLHD1TYP;
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
$SpielSpErMlArray[$SpErMlSpieltyp] = new CSpielSpErMl();
$KontrahentArray = array();
$KontrahentArray[S_HEIM][1] = new CKontrahent(); $KontrahentArray[S_HEIM][1]->setAthletID(3);
$KontrahentArray[S_HEIM][2] = new CKontrahent(); $KontrahentArray[S_HEIM][2]->setAthletID(7);
$KontrahentArray[S_GAST][1] = new CKontrahent(); $KontrahentArray[S_GAST][1]->setAthletID(8);
$KontrahentArray[S_GAST][2] = new CKontrahent(); $KontrahentArray[S_GAST][2]->setAthletID(9);
$SpielSpErMlArray[$SpErMlSpieltyp]->setKontrahentArray($KontrahentArray);
$SatzArray = array();
$SatzArray[1] = new CSatz(); $SatzArray[1]->setPunkte(1, 21);
$SatzArray[2] = new CSatz(); $SatzArray[2]->setPunkte(23, 21);
$SatzArray[3] = new CSatz(); $SatzArray[3]->setPunkte(23, 25);
$SpielSpErMlArray[$SpErMlSpieltyp]->setSatzArray($SatzArray);

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
$SpErMlSpieltyp = S_SPERMLDETYP;
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
$SpielSpErMlArray[$SpErMlSpieltyp] = new CSpielSpErMl();$KontrahentArray = array();
$KontrahentArray[S_HEIM][1] = new CKontrahent(); $KontrahentArray[S_HEIM][1]->setAthletID(8);
$KontrahentArray[S_GAST][1] = new CKontrahent(); $KontrahentArray[S_GAST][1]->setAthletID(11);
$SpielSpErMlArray[$SpErMlSpieltyp]->setKontrahentArray($KontrahentArray);
$SatzArray = array();
$SatzArray[1] = new CSatz(); $SatzArray[1]->setPunkte(1, 21);
$SatzArray[2] = new CSatz(); $SatzArray[2]->setPunkte(2, 21);
$SpielSpErMlArray[$SpErMlSpieltyp]->setSatzArray($SatzArray);

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
$SpErMlSpieltyp = S_SPERMLHE2TYP;
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
$SpielSpErMlArray[$SpErMlSpieltyp] = new CSpielSpErMl();$KontrahentArray = array();
$KontrahentArray[S_HEIM][1] = new CKontrahent(); $KontrahentArray[S_HEIM][1]->setAthletID(47);
$SpielSpErMlArray[$SpErMlSpieltyp]->setKontrahentArray($KontrahentArray);
$SatzArray = array();
$SatzArray[1] = new CSatz(); $SatzArray[1]->setPunkte(21, 0);
$SatzArray[2] = new CSatz(); $SatzArray[2]->setPunkte(21, 0);
$SpielSpErMlArray[$SpErMlSpieltyp]->setSatzArray($SatzArray);

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// ENDE: $SpielSpErMlArray
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

$theObj->setSpielSpErMlArray($SpielSpErMlArray);

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// BEGINN: $ErsatzspielerArray
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

$ErsatzspielerArray = array();
$ErsatzspielerArray[1] = new CErsatzspieler(); $ErsatzspielerArray[1]->setAthletID(32);

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// ENDE: $ErsatzspielerArray
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

$theObj->setErsatzspielerArray($ErsatzspielerArray);

$xhtml .= '<pre><code>'."\n";
$xhtml .= print_r($theObj, true);
$xhtml .= '</code></pre>'."\n";

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
$xhtml .= '<h2>Getter</h2>'."\n";
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

$xhtml .= '<p>'."\n";
$xhtml .= 'getSpErMlID(): '.$theObj->getSpErMlID().'<br />'."\n";
$xhtml .= 'getDatum(GET_DTDE): '.$theObj->getDatum(GET_DTDE).'<br />'."\n";
$xhtml .= 'getAustragungsortID(GET_OFID): '.$theObj->getAustragungsortID(GET_OFID).'<br />'."\n";
$xhtml .= 'getBemerkungen(): '.$theObj->getBemerkungen().'<br />'."\n";
$xhtml .= '</p>'."\n";

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
$xhtml .= '<h2>Datensatz speichern</h2>'."\n";
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

$xhtml .= '<p>Objekt wird jetzt ...';
$theObj->save();
$xhtml .= '... gespeichert. ID ist '.$theObj->getSpErMlID().', __toString(): '.$theObj.'</p>'."\n";

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
$xhtml .= '<h2>Datensatz laden</h2>'."\n";
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

$theObj->load($theObj->getSpErMlID());

$xhtml .= '<p>'."\n";
$xhtml .= 'load('.$theObj->getSpErMlID().'): '.$theObj.'<br />'."\n";
$xhtml .= '</p>'."\n";

$xhtml .= '<pre><code>'."\n";
$xhtml .= print_r($theObj, true);
$xhtml .= '</code></pre>'."\n";

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
$xhtml .= '<h2>Datensatz ändern und speichern</h2>'."\n";
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

$theObj->setDatum('2008-03-20');
$theObj->setAustragungsortID(41);
$theObj->setBemerkungen('Badminton is the best!');

$xhtml .= '<p>Objekt wird jetzt ...';
$theObj->save();
$xhtml .= '... gespeichert. ID ist '.$theObj->getAustragungsortID().', __toString(): '.$theObj.'</p>'."\n";

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
$xhtml .= '<h2>Vermischtes</h2>'."\n";
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
$xhtml .= '<h2>Datensatz laden</h2>'."\n";
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

$theObj->load($theObj->getSpErMlID());
$xhtml .= '<p>'."\n";
$xhtml .= 'load('.$theObj->getSpErMlID().'): '.$theObj.'<br />'."\n";
$xhtml .= '</p>'."\n";


$xhtml .= $theObj->getXHTML();

$xhtml .= '</p>'."\n";

$xhtml .= '<pre><code>'."\n";
$xhtml .= print_r($theObj, true);
$xhtml .= '</code></pre>'."\n";

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
$xhtml .= '<h2>Datensatz löschen</h2>'."\n";
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

$xhtml .= '<p>Objekt wird jetzt ...';
$theObj->delete();
$xhtml .= '... gelöscht: '.$theObj.'</p>'."\n";

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// RETURN
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

$data['xhtml'] = $xhtml;
return new CTemplateData($data, true);
?>